"use strict";(self.webpackChunksimple_jwt_login_website=self.webpackChunksimple_jwt_login_website||[]).push([[3272],{51948:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Protect-Endpoints","title":"Protect Endpoints","description":"The Simple JWT Login plugin allows you to secure specific API endpoints or all endpoints within your WordPress site.","source":"@site/docs/Protect-Endpoints.md","sourceDirName":".","slug":"/protect-endpoints/","permalink":"/docs/protect-endpoints/","draft":false,"unlisted":false,"editUrl":"https://github.com/simple-jwt-login/website/tree/main/docs/Protect-Endpoints.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"slug":"/protect-endpoints/","title":"Protect Endpoints","sidebar_position":11,"author":"Nicu Micle","author_url":"https://github.com/nicumicle"},"sidebar":"tutorialSidebar","previous":{"title":"Delete WordPress User","permalink":"/docs/delete-user/"},"next":{"title":"Hooks","permalink":"/docs/hooks/"}}');var i=t(74848),o=t(28453);const l={slug:"/protect-endpoints/",title:"Protect Endpoints",sidebar_position:11,author:"Nicu Micle",author_url:"https://github.com/nicumicle"},r=void 0,c={},d=[{value:"Screenshot",id:"screenshot",level:2},{value:"Protection Modes",id:"protection-modes",level:2},{value:"1. Protect All Endpoints",id:"1-protect-all-endpoints",level:3},{value:"2. Protect Only Specific Endpoints",id:"2-protect-only-specific-endpoints",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Request Methods",id:"request-methods",level:3},{value:"Route Matching",id:"route-matching",level:3},{value:"Example Configurations",id:"example-configurations",level:3},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"Example 3",id:"example-3",level:4},{value:"How to Pass the JWT",id:"how-to-pass-the-jwt",level:2},{value:"Examples",id:"examples",level:3},{value:"Sending JWT in header:",id:"sending-jwt-in-header",level:4},{value:"Sending JWT as query parameters:",id:"sending-jwt-as-query-parameters",level:4},{value:"Sending JWT as request body:",id:"sending-jwt-as-request-body",level:4}];function h(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The Simple JWT Login plugin allows you to secure specific API endpoints or all endpoints within your WordPress site.\nWhen an endpoint is protected, a valid JSON Web Token (JWT) must be included in the request to gain access."}),"\n",(0,i.jsx)(n.p,{children:"The following error will be displayed, when an endpoint is protected and no JWT is provided:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n"success": false,\n  "data": {\n    "message": "You are not authorized to access this endpoint.",\n    "errorCode": 403,\n    "type": "simple-jwt-login-route-protect"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"screenshot",children:"Screenshot"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/nicumicle/simple-jwt-login/blob/master/wordpress.org/assets/screenshot-11.png?raw=true",alt:""})}),"\n",(0,i.jsx)(n.h2,{id:"protection-modes",children:"Protection Modes"}),"\n",(0,i.jsx)(n.p,{children:"You can choose between two protection modes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Protect all endpoints"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Protect only specific endpoints"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"1-protect-all-endpoints",children:"1. Protect All Endpoints"}),"\n",(0,i.jsx)(n.p,{children:'When enabled, this option secures all endpoints except those explicitly listed in the "Whitelist."\nTo exclude an endpoint from protection, add it to the whitelist using the "Add Endpoints +" button.'}),"\n",(0,i.jsx)(n.h3,{id:"2-protect-only-specific-endpoints",children:"2. Protect Only Specific Endpoints"}),"\n",(0,i.jsx)(n.p,{children:'This option protects only the endpoints listed in the "Protect Endpoints" section.\nTo secure an endpoint, add it using the "Add Endpoint" button.'}),"\n",(0,i.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,i.jsx)(n.h3,{id:"request-methods",children:"Request Methods"}),"\n",(0,i.jsx)(n.p,{children:"For each endpoint, you can define which HTTP request methods (GET, POST, PUT, DELETE, etc.) require authentication.\nAlternatively, selecting ALL will enforce the rule for every request method."}),"\n",(0,i.jsx)(n.h3,{id:"route-matching",children:"Route Matching"}),"\n",(0,i.jsx)(n.p,{children:"There are two ways to define how an endpoint is matched:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Starts with"}),": The rule applies to any endpoint that begins with the specified path."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Exact match"}),": The rule applies only if the accessed endpoint exactly matches the specified path."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example-configurations",children:"Example Configurations"}),"\n",(0,i.jsx)(n.h4,{id:"example-1",children:"Example 1"}),"\n",(0,i.jsxs)(n.p,{children:["Assume you specify ",(0,i.jsx)(n.code,{children:"/wp/v2/users"})," with ",(0,i.jsx)(n.code,{children:"ALL"})," and ",(0,i.jsx)(n.code,{children:"Exact Match"})," in either the Protect or Whitelist settings."]}),"\n",(0,i.jsx)(n.p,{children:"The rule applies to these URLs:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://yoursite.com/?rest_route=/wp/v2/users"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://yoursite.com/wp-json/wp/v2/users"})}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-2",children:"Example 2"}),"\n",(0,i.jsxs)(n.p,{children:["Assume you specify ",(0,i.jsx)(n.code,{children:"/wp/v2/users"})," with ",(0,i.jsx)(n.code,{children:"GET"})," and ",(0,i.jsx)(n.code,{children:"Starts With"})," in either the Protect or Whitelist settings."]}),"\n",(0,i.jsxs)(n.p,{children:["The rule applies to these URLs when called with ",(0,i.jsx)(n.code,{children:"GET"})," only:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://yoursite.com/?rest_route=/wp/v2/users"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://yoursite.com/?rest_route=/wp/v2/users/1"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://yoursite.com/wp-json/wp/v2/users"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://yoursite.com/wp-json/wp/v2/users/1"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://yoursite.com/wp-json/wp/v2/users/{any_other_path}"})}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-3",children:"Example 3"}),"\n",(0,i.jsxs)(n.p,{children:["Assume you specify ",(0,i.jsx)(n.code,{children:"/wp/v2"})," with ",(0,i.jsx)(n.code,{children:"ALL"})," and ",(0,i.jsx)(n.code,{children:"Starts With"})," in either the ",(0,i.jsx)(n.code,{children:"Apply only on Specific Endpoints"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["This way, you are making all the endpoints under ",(0,i.jsx)(n.code,{children:"/wp/v2*"})," protected and they will be accessible only with a JWT."]}),"\n",(0,i.jsx)(n.p,{children:"For example, all these endpoints will be protected:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/wp/v2/users"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/wp/v2/posts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/wp/v2/comments"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"how-to-pass-the-jwt",children:"How to Pass the JWT"}),"\n",(0,i.jsx)(n.p,{children:"The JWT token can be provided in multiple ways, depending on the options set in the plugin\u2019s General settings:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Header"}),"\n",(0,i.jsx)(n.li,{children:"Request URI"}),"\n",(0,i.jsx)(n.li,{children:"Request Body"}),"\n",(0,i.jsx)(n.li,{children:"Session"}),"\n",(0,i.jsx)(n.li,{children:"Cookie"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h4,{id:"sending-jwt-in-header",children:"Sending JWT in header:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'  curl -X POST "http://localhost/wp/v2/users" -H "Authorization: YOUR_JWT"\n'})}),"\n",(0,i.jsx)(n.h4,{id:"sending-jwt-as-query-parameters",children:"Sending JWT as query parameters:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'  curl -X POST "http://localhost/wp/v2/users?jwt=YOUR_JWT"\n'})}),"\n",(0,i.jsx)(n.p,{children:"or"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'  curl -X POST "http://localhost?rest_route=/wp/v2/users&jwt=YOUR_JWT"\n'})}),"\n",(0,i.jsx)(n.h4,{id:"sending-jwt-as-request-body",children:"Sending JWT as request body:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'  curl -X POST "http://localhost/wp/v2/users" -H "Content-type: application/json" -d \'{"JWT":"JYOUR JWT"}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:"By following these instructions, you can efficiently protect and manage API access using Simple JWT Login."})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var s=t(96540);const i={},o=s.createContext(i);function l(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);